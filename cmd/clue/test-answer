immreg 1 1
immreg 2 2
immreg 3 3
immreg 0 8
immreg 64 9
immreg 0 6
# signal "ready for you to write" and wait
regmem 2 2
wait
# bring next message byte into 4
memreg 1 4
# stop if mesage is done
# (200 = past the end of program, mem is 0-initialized, 0 = halt)
gotoifequal 200 4 8
# decode: subtract last letter
subreg 6 4
# div by 3
divreg 3 4
# remember for next time
movreg 4 6
# add 64
addreg 9 4
# write decrypted message to output
regmem 4 8
# loop
immreg 116 0
halt


